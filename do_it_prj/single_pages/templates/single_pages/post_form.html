{% extends 'single_pages/post_form_base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block header1 %}Create New Port{% endblock %}

{% block header %}<h1>Create New Port</h1><h6>go back <a href="/single_pages">port list</a></h6>{% endblock %}

{% block main_area %}
    <h4><i>type ì˜ˆì‹œ:</i><br><br>stylesë¡œ ì…ë ¥ì‹œ
        <mark style="background-color:lightpink; color:Azure;">'í•‘í¬ë² ì´ì§€ í…Œë§ˆ'</mark>
        ,&nbsp;
        styles1ìœ¼ë¡œ ì…ë ¥ì‹œ
        <mark style="background-color:darkblue; color:Azure;">'ë„¤ì´ë¹„í…Œë§ˆ'</mark>
        ,&nbsp;
        styles2ë¡œ ì…ë ¥ì‹œ
        <mark style="background-color:green; color:Azure;">'ê·¸ë¦°í…Œë§ˆ'</mark>
    </h4>
    <br><br><br>
    <form action="" method="POST" enctype="multipart/form-data">{% csrf_token %}

        <table>
            {{ form | crispy }}
            <div id="field">
                <div id="port1">
                    <tr>
                        <td colspan="2"><label for="id_port1_img">
                            ğŸ‘‡ğŸ» port1ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° ğŸ‘‡ğŸ»
                        </label>
                            <br>
                            <input type="file" id="id_port1_img" name="port1_img" accept="image/*"></td>
                    </tr>
                    <tr>

                        <th><label for="id_port1_title">Port1</label></th>
                        <td><input type="text" name="port1_title" id="id_port1_title" placeholder="title"
                                   class="form-control"></td>
                    </tr>
                    <tr>
                        <th><label for="id_port1">Port1</label></th>
                        <td><textarea class="form-control" id="id_port1" name="port1" rows='20' cols="100"
                                      class="textinput textInput form-control" placeholder="content"></textarea></td>
                    </tr>
                    <input type="button" value="ì‚­ì œ" onclick="remove_item1(this)">
                </div>
                <input type="button" value=" ì¶”ê°€ " onclick="add_item1()">
            </div>

            <br>


            <div id="port2">
                <tr>
                    <td colspan="2"><label for="id_port2_img">
                        ğŸ‘‡ğŸ» port2ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° ğŸ‘‡ğŸ»
                    </label>
                        <br>
                        <input type="file" id="id_port2_img" name="port2_img" accept="image/*"></td>
                </tr>
                <tr>
                    <th><label for="id_port2_title">Port2</label></th>
                    <td><input type="text" name="port1_title" id="id_port2_title" placeholder="title"
                               class="form-control"></td>
                </tr>
                <tr>
                    <th><label for="id_port2">Port2</label></th>
                    <td><textarea class="form-control" id="id_port2" name="port2" rows=20
                                  class="textinput textInput form-control" placeholder="content"></textarea></td>
                </tr>
                <br>
            </div>


            <div id="port3">
                <tr>
                    <td colspan="2"><label for="id_port3_img">
                        ğŸ‘‡ğŸ» port3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° ğŸ‘‡ğŸ»
                    </label>
                        <br>
                        <input type="file" id="id_port3_img" name="port3_img" accept="image/*"></td>
                </tr>
                <tr>
                    <th><label for="id_port3_title">Port3</label></th>
                    <td><input type="text" name="port3_title" id="id_port3_title" placeholder="title"
                               class="form-control"></td>
                </tr>
                <tr>
                    <th><label for="id_port3">Port3</label></th>
                    <td><textarea class="form-control" id="id_port3" name="port3" rows=20
                                  class="textinput textInput form-control" placeholder="content"></textarea></td>
                </tr>
            </div>
            <br>


            <div id="port4">
                <tr>
                    <td colspan="2"><label for="id_port4_img">
                        ğŸ‘‡ğŸ» port4ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° ğŸ‘‡ğŸ»
                    </label>
                        <br>
                        <input type="file" id="id_port4_img" name="port4_img" accept="image/*"></td>
                </tr>
                <tr>
                    <th><label for="id_port4_title">Port4</label></th>
                    <td><input type="text" name="port4_title" id="id_port4_title" placeholder="title"
                               class="form-control"></td>
                </tr>
                <tr>
                    <th><label for="id_port4">Port4</label></th>
                    <td><textarea class="form-control" id="id_port4" name="port4" rows=20
                                  class="textinput textInput form-control" placeholder="content"></textarea></td>
                </tr>
            </div>
            <br>


            <div id="port5">
                <tr>
                    <td colspan="2"><label for="id_port5_img">
                        ğŸ‘‡ğŸ» port5ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° ğŸ‘‡ğŸ»
                    </label>
                        <br>
                        <input type="file" id="id_port5_img" name="port5_img" accept="image/*"></td>
                </tr>
                <tr>
                    <th><label for="id_port5_title">Port5</label></th>
                    <td><input type="text" name="port5_title" id="id_port5_title" placeholder="title"
                               class="form-control"></td>
                </tr>
                <tr>
                    <th><label for="id_port5">Port5</label></th>
                    <td><textarea class="form-control" id="id_port5" name="port5" rows=20
                                  class="textinput textInput form-control" placeholder="content"></textarea></td>
                </tr>
                <tr>
            </div>
            <br>

            <div id="port6">
                <tr>
                    <td colspan="2"><label for="id_port6_img">
                        ğŸ‘‡ğŸ» port6ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° ğŸ‘‡ğŸ»
                    </label>
                        <br>
                        <input type="file" id="id_port6_img" name="port6_img" accept="image/*"></td>
                </tr>
                <tr>
                    <th><label for="id_port6_title">Port6</label></th>
                    <td><input type="text" name="port6_title" id="id_port6_title" placeholder="title"
                               class="form-control"></td>
                </tr>
                <tr>
                    <th><label for="id_port6">Port6</label></th>
                    <td><textarea class="form-control" id="id_port6" name="port6" rows=20
                                  class="textinput textInput form-control" placeholder="content"></textarea></td>
                </tr>
                {#                <tr>#}
                {#                    <td colspan="2"><input type="button" value="ì‚­ì œ" onclick="remove_item1(this)"></td>#}
                {#                     <td colspan="2">#}
                {#                         <input type="button" value=" ì¶”ê°€ " onclick="add_item1()"><br></td>#}
                {#                </tr>#}
            </div>
        </table>
        <br>

        <button type="submit" class="btn btn-primary float-right">Create</button>


    </form>
    <script>
        function add_item1() {
            // pre_set ì— ìˆëŠ” ë‚´ìš©ì„ ì½ì–´ì™€ì„œ ì²˜ë¦¬..
            var div = document.createElement('div');
            div.innerHTML = document.getElementById('port1').innerHTML;
            document.getElementById('field').appendChild(div);
        }

        function remove_item1(obj) {
            // obj.parentNode ë¥¼ ì´ìš©í•˜ì—¬ ì‚­ì œ
            document.getElementById('field').removeChild(obj.parentNode);
        }
    </script>
    {{ form.media }}
{% endblock %}


<script type="text/javascript">
    $(function () {
        // ë™ì ìœ¼ë¡œ ì—˜ë¦¬ë¨¼íŠ¸ ì¶”ê°€
        var tmp1 = "<input type='text' id='input1' value='b1ix.net'>"
        tmp1 += "<input id='file1' type='file'>"
        $('#div1').append(tmp1)

        $('#btn1').click(function () {
            // ì„ì˜ì˜ FormDataê°ì²´ ìƒì„±
            var tmp_form = new FormData()
            // ë™ì  text íƒ€ì… ì—˜ë¦¬ë¨¼íŠ¸ ì¶”ê°€
            tmp_form.append('input1', $('#input1').val())
            // ë™ì  file íƒ€ì… ì—˜ë¦¬ë¨¼íŠ¸ ì¶”ê°€
            tmp_form.append('file1', $('#file1')[0].files[0]);

            $.ajax({
                type: 'post'
                , url: '/410'
                , processData: false
                , contentType: false
                , data: tmp_form
                , success: function (data) {
                    // console.log(data)
                }
                , error: function (xhr, status, msg) {
                    console.log(xhr)
                }
            });
        })
    })
</script>